<!--
============================================
; Title:  list.ejs
; Author: Professor Krasso
; Date:   15 April 2020
; Modified By: Janet Blohn
; Last Modified On: 14 April 2020
; Description: List of Employees view for EMS Project
============================================
-->

<!-- Include the views for the header and navigation bar -->
<%- include("header") %>
<%- include("navbar") %>

<!-- Display the list of employees if one exists -->
<% if(employees.length) {%>
  <h2>List of Current Employees</h2>
  <br />
  <table class="table table-sm table-borderless table-hover hoverTable table-condensed">
    <thead>
      <tr>
        <th>First Name</th>
        <th>Last Name</th>
        <th>Click View</th>
      </tr>
    </thead>
    <tbody>
      <!-- Get each employee on the database -->
      <% employees.forEach (function(entry) {%>
      <tr class="table-row ">
        <td><%= entry.firstName %></td>
        <td><%= entry.lastName %></td>
        <td><a href="/view/<%=entry.lastName %>">View</a></td>
      </tr>
      <%})%>
    </tbody>
  </table>
<%}else{%>
  <!-- Display a message if there are no employees in the database -->
  No Entries!<a style="color: white" href="/new">Add One!</a>
<%}%>

<!-- Include the footer and the jQuery and Bootstrap scripts -->
<%- include("footer") %>
<%- include("scripts") %>
